

<div class="mainDiv">



<div class="row">

    <div class="column">

        <mat-card >

     
            <form [formGroup]="noticiaForm">
    
                <mat-form-field appearance="fill" class="inputs">
                    <mat-label>Titulo</mat-label>
                    <input matInput formControlName="titulo"
                    type="text">
                </mat-form-field>
    
                <!-- <mat-form-field appearance="fill" class="inputs">
                    <mat-label>Contenido</mat-label>
                    <textarea matInput formControlName="texto"
                    rows="15" cols="40"
                        style="resize: none;"></textarea>
                </mat-form-field> -->

                <mat-form-field appearance="fill">
                    <mat-label>Tipos de categoria</mat-label>
                    <mat-select [formControl]="seleccionTipo"
                    >
                      <mat-option *ngFor="let tipo of opciones; let i = index" [value]="i">
                        {{tipo}}
                      </mat-option>
                    </mat-select>
                </mat-form-field>

                <div [ngSwitch]="seleccionTipo.value">

                    <mat-form-field appearance="fill" class="inputs" *ngSwitchCase="0">
                        <mat-label>Categoria regional</mat-label>
                        <mat-select formControlName="categoria">
                          <mat-option *ngFor="let categoria of categorias; let i = index" [value]="categoria">
                            {{categoria}}
                          </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="fill" *ngSwitchCase="1">
                        <mat-label>Plantas</mat-label>
                        <mat-select formControlName="categoria"
                        >
                          <mat-option *ngFor="let planta of data.plantasNombres;" [value]="planta">
                            {{planta}}
                          </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="fill" *ngSwitchCase="2">
                        <mat-label>Departamentos</mat-label>
                        <mat-select formControlName="categoria"
                        >
                          <mat-option *ngFor="let departamento of data.departamentosNombres;" [value]="departamento">
                            {{departamento}}
                          </mat-option>
                        </mat-select>
                    </mat-form-field>




                </div>

                <ckeditor [editor]="Editor" [config]="config" formControlName="texto"></ckeditor>

            

                <mat-form-field appearance="fill" class="inputs">
                    <mat-label>Ingresa el link </mat-label>
                    <input matInput [formControl]="link"
                    type="text">
                </mat-form-field>

                

               
            </form>


            <button 
            mat-raised-button [disabled]="link.invalid"
            (click)="agregarLink()"
            type="button" style="width: 60%;">
            Agregar link
        </button>


        <table style="width: 100%; height: auto;">

            <thead>
                <tr style="text-align: center;">
                <th width="85%">
                    link
                </th>

                <th width="15%">
                    Eliminar
                </th>

                </tr> 

            </thead>

         

            <tbody >
               <tr *ngFor="let link of links; let i = index" style="text-align: left;">
                <th style="word-break: break-all;">
                    <a (click)="abrirLink(link)" class="link">{{link}}</a>
                </th>
                <th >
                    <mat-icon (click)="elminarLink(i)">
                        clear
                    </mat-icon>
                </th>
            </tr> 
            </tbody>

           

            

        </table>
    
            
    
    
        </mat-card>

    </div>



    <div class="column" *ngIf="tieneMultimedia">

        <mat-card>

            <div >
    
                <input type="file" #multimedia style="display: none;" accept="image/*,video/*" 
                (change)="cargarMultimedia($event.target.files)" type="file" 
                multiple>

                <button (click)="multimedia.click()" mat-raised-button 
                style="width: 80%;" type="button"
                color="primary">
                Seleccionar de mi PC
                </button>
                
                <button (click)="eliminarMultimediaIndex()"
                mat-raised-button
                color="warning"
                style="margin-top: 15px;">
                Elimanar multimedia 
                </button>


                <div style="width: 100%; height: 450px; margin-top: 20px;">
    
            <app-slider [slides]=[] [cargarImagenes]="false" ></app-slider>
    
            </div>
    
            
    
    
    
                <mat-form-field appearance="fill" class="inputs"
                style="margin-top: 15px;">
                    <mat-label>Link valido: https://youtu.be/aPcnL9U-yjQ</mat-label>
                    <input matInput [formControl]="videoYoutube"
                    type="text">
                </mat-form-field>
    
                <button
                mat-raised-button [disabled]="videoYoutube.invalid"
                (click)="agregarVideo()"
                type="button">
                Agregar video de YOUTUBE
                </button>
    
    
          


            </div>

            

        </mat-card>


    </div>


    <div class="column" *ngIf="!tieneMultimedia" style="text-align: center;">


        <mat-card>

            <mat-form-field appearance="fill" class="inputs">
                <mat-label>Ingresa la respuesta </mat-label>
                <input matInput [formControl]="respuesta"
                type="text">
            </mat-form-field>

            

            <button style="width: 60%;"
                mat-raised-button [disabled]="respuesta.invalid"
                (click)="agregarRespuesta()"
                type="button">
                Agregar Respuesta
            </button>

            <table style="width: 100%;">

                <tr>
                    <th style="width: 85%;">
                        Respuesta
                    </th>

                    <th style="width: 15%;">
                        Eliminar
                    </th>
                </tr>

                <tr *ngFor="let resp of respuestas; let i = index">
                    <th>
                        <p>{{resp}}</p>
                    </th>
                    <th>
                        <mat-icon (click)="eliminarRespuesta(i)">
                            clear
                        </mat-icon>
                    </th>
                </tr>

            </table>



        </mat-card>



        </div>

        


    </div>

    <div style="text-align: center; margin-top: 20px; margin-bottom: 20px;" >

        <button mat-raised-button style="margin-right: 20px; width: 120px;"
        (click)="cerrarModal()" color="medium">
            Cancelar
        </button>

        <button mat-raised-button style="margin-right: 20px;  width: 160px;"
        color="primary"
        (click)="actualizarNoticia()"
        [disabled]="!noticiaForm.dirty || noticiaForm.invalid">
            Actualizar noticia
            <mat-icon>save</mat-icon>
        </button>


    </div>


</div>

    